version: v1
# Application name (must match nova-build.yaml)
name: "heknx5-nova-app-template"

# Target image (updated by build workflow in app-hub)
target: "nova-apps/heknx5-nova-app-template:1.0.3"

sources:
  # Application image (updated by build workflow in app-hub)
  app: "heknx5-nova-app-template:1.0.3"

defaults:
  cpu_count: 2
  memory_mb: 2048
ingress:
  - listen_port: 8000
  - listen_port: 18001
egress:
  allow:
    - '**'
    - 0.0.0.0/0
    - ::/0


api:
  listen_port: 18000
aux_api:
  listen_port: 18001
# S3 Storage Configuration
storage:
  s3:
    enabled: true
    bucket: "nova-app-storage-prod"
    prefix: "apps/heknx5/"
    region: "us-west-1"
    encryption:
      mode: "kms"
      key_scope: "object"
      aad_mode: "key"
      key_version: "v1"
      accept_plaintext: true
kms_integration:
  enabled: true
  kms_app_id: 49
  nova_app_registry: "0x0f68E6e699f2E972998a1EcC000c7ce103E64cc8"
# Helios Light Client RPC
helios_rpc:
  enabled: true
  chains:
    - name: L2-base-sepolia
      network_id: '84532'
      kind: opstack
      network: base-sepolia
      execution_rpc: https://sepolia.base.org
      local_rpc_port: 18545
    - name: ethereum-mainnet
      network_id: '1'
      kind: ethereum
      network: mainnet
      execution_rpc: https://eth.llamarpc.com
      local_rpc_port: 18546
    - name: L2-op-mainnet
      network_id: '10'
      kind: opstack
      network: op-mainnet
      execution_rpc: https://mainnet.optimism.io
      local_rpc_port: 18551

