# ============================================
# Enclaver Configuration - Example
# ============================================
# This file configures how your application runs inside the Nitro Enclave.
# It is used by Enclaver to build the release image with embedded EIF.
#
# NOTE: This file is typically generated by Nova Platform automatically.
# The 'target' and 'sources.app' fields are updated during the build process.

# Enclaver config version
version: v1

# Application name (must match nova-build.yaml)
name: _example

# Target image (updated by build workflow)
# Format: <ECR_REGISTRY>/nova-apps/<name>:<version>-<commit>
target: nova-apps/_example:1.0.0

# Source images
sources:
  # Application image (updated by build workflow)
  app: _example:1.0.0

# Default enclave settings
defaults:
  # Memory allocation for the enclave in MB
  # Minimum: 256, Recommended: 1500+
  memory_mb: 1500

# Ingress configuration
# Defines which ports are exposed to receive traffic from outside the enclave
ingress:
  - listen_port: 8000    # Your application's HTTP port

# Internal API configuration (Odyn sidecar)
# Used for attestation, signing, and encryption services
api:
  listen_port: 9000

# Auxiliary API configuration
# Additional internal API endpoint
aux_api:
  listen_port: 9001

# Egress configuration
# Defines which external domains the enclave can connect to
# egress:
#   allow:
#     - api.openai.com
#     - api.anthropic.com
#   deny:
#     - malicious.example.com
